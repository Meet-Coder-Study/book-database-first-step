## 우리와 데이터베이스와의 관계

- 데이터베이스라는 존재
- 빠르게 진화하는 데이터베이스
- 데이터베이스는 어디에 있는가
- 모든 것이 데이터베이스로 관리되는 시대
- 데이터베이스란 무엇인가

## 데이터베이스의 기본 기능

데이터베이스는 주소록에서 시작되었다

### 기본 기능 1) 데이터의 검색과 갱신

갱신은 등록, 수정, 삭제 를 포함하는 의미이다.

고유성: 주소록의 이름이 우연히 같다고 하더라도 2명은 다른 인물로 인식되어야 한다.

처리 성능에 유의한다.

### 기본 기능 2) 동시성 제어

복수의 사용자가 데이터베이스를 이용해 검색이나 갱신 처리를 할 때, 

갱신의 무결성을 어느 정도로 보장할 것인가?

가능한 시나리오 3가지

```
1) 최초로 파일을 연 사람이 파일을 열고 있을 때, 그 다음으로 파일을 열려고 한 사람은 파일을 열 수 없다.
2) 최초로 파일을 연 사람이 파일을 열고 있을 때, 그 다음으로 파일을 열려고 한 사람은 파일을 읽기 전용으로 밖에 열 수 없다.
3) 어떤 사람도 문제 없이 파일을 여는게 가능하고 나중에 수행된 쪽의 갱신이 반영된다.
```

괴로운 트레이드오프의 관계

1)은 나중에 읽으려는 사람에게 제한을 씌우고 있고 3)은 나중에 읽으려는 사람에겐 자유롭다고 하더라도 먼저 쓰고 있던 사람에게는 위험한 상황 

→ 어느 사용자에게는 괜찮은 갱신 제어가 다른 사용자에게는 불편한 상황을 야기함

복수 사용자의 갱신을 조절하기 위한 기능을 `동시성 제어`, `배타 제어` 라고 한다.

### 기본 기능 3) 장애 대응

데이터 소실 사건은 손해배상청구까지 이어질 수 있는 문제이다.

데이터 소실 문제의 대첵

1. 데이터 다중화 (예방책)
2. 백업 (사후 대책)

데이터 다중화?

데이터를 복수의 장소에 분산해서 유지하는 것

→ AWS 의 RDS 세팅 시 DB 서브넷 영역으로 2개 이상의 AZ 가 설정되어야 하는 점!

서비스 레벨 vs 비용

### 기본 기능 4) 보안

데이터베이스는 사용자로부터 가능한 보이지 않게 설계되어야 한다

1. 사용자는 서버를 의식할 필요가 없다.
2. 데이터베이스는 기밀성이 높다.

위 두가지가 이유이다.

- 사용자는 서버를 의식할 필요가 없다.

    사용자가 시스템을 사용할 때 직접 조작하는 것은 어디까지나 클라이언트단이어야 한다.

    사용자가 서버단을 직접 조작하게 되면 이는 보안 결함의 상황이다.

- 데이터베이스는 기밀성이 높다.

    데이터베이스는 절대 사용자에게 알려지지 않아야 한다

    DB의 데이터는 비밀로 여겨져야 하는 경우가 많기 때문이다.

    계좌번호, 주소, 신용카드 번호, 비밀번호, ...

    보안의 강도는 사용자 편의성과 트레이드오프 관계가 있어서 설계시 어려운 지점이 되지만

    데이터베이스에 요구되는 보안은 매우 엄격하다!

## 데이터베이스의 종류

1. 계층형 데이터베이스

    조직도나 전체 구조도

2. 관계형 데이터베이스

    2차원 표 형식으로 데이터를 관리하는 데이터베이스

3. 객체지향 데이터베이스와 XML 데이터베이스

    데이터를 객체나 xml 형태로 관리하는 데이터베이스

4. NoSQL 데이터베이스

    Not only SQL

    관계형 데이터베이스의 기능 일부를 버려서 성능을 높이고 있다.

    다량의 데이터를 고속으로 처리해야 하는 웹 서비스와 잘 어울린다.

Q) GraphQL ?
